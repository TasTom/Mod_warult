<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- Hediff principal pour la progression -->
  <HediffDef>
    <defName>Expedition33_Progression</defName>
    <label>progression expedition</label>
    <description>Système de progression du mod Expedition 33.</description>
    <hediffClass>Mod_warult.Hediff_ExpeditionProgression</hediffClass>
    <defaultLabelColor>(0.2, 0.8, 0.2)</defaultLabelColor>
    <isBad>false</isBad>
    <everCurableByItem>false</everCurableByItem>
    <chronic>true</chronic>
    <maxSeverity>1.0</maxSeverity>
    <initialSeverity>0.1</initialSeverity>
  </HediffDef>

  <!-- ✅ VITALITÉ - PROGRESSION AMÉLIORÉE -->
  <HediffDef>
    <defName>Expedition33_VitalityBonus</defName>
    <label>vitalité renforcée</label>
    <description>Bonus permanent de vitalité obtenu par la progression d'expédition.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.8, 0.2, 0.2)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>9.0</maxSeverity>
    <stages>
      <!-- Niveau Débutant (1-2 points vitalité) -->
      <li>
        <minSeverity>0.1</minSeverity>
        <label>vitalité renforcée (débutant)</label>
        <statOffsets>
          <MaxHitPoints>8</MaxHitPoints>
          <ImmunityGainSpeed>0.08</ImmunityGainSpeed>
        </statOffsets>
      </li>
      <!-- Niveau Intermédiaire (3-5 points vitalité) -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label>vitalité renforcée (intermédiaire)</label>
        <statOffsets>
          <MaxHitPoints>20</MaxHitPoints>
          <ImmunityGainSpeed>0.15</ImmunityGainSpeed>
          <PainShockThreshold>0.08</PainShockThreshold>
        </statOffsets>
      </li>
      <!-- Niveau Avancé (6-8 points vitalité) -->
      <li>
        <minSeverity>3.0</minSeverity>
        <label>vitalité renforcée (avancé)</label>
        <statOffsets>
          <MaxHitPoints>40</MaxHitPoints>
          <ImmunityGainSpeed>0.25</ImmunityGainSpeed>
          <PainShockThreshold>0.15</PainShockThreshold>
          <InjuryHealingFactor>0.1</InjuryHealingFactor>
        </statOffsets>
      </li>
      <!-- Niveau Expert (9-15 points vitalité) -->
      <li>
        <minSeverity>6.0</minSeverity>
        <label>vitalité renforcée (expert)</label>
        <statOffsets>
          <MaxHitPoints>70</MaxHitPoints>
          <ImmunityGainSpeed>0.4</ImmunityGainSpeed>
          <PainShockThreshold>0.25</PainShockThreshold>
          <InjuryHealingFactor>0.2</InjuryHealingFactor>
        </statOffsets>
      </li>
      <!-- Niveau Maître (16+ points vitalité) -->
      <li>
        <minSeverity>8.5</minSeverity>
        <label>vitalité renforcée (maître)</label>
        <statOffsets>
          <MaxHitPoints>120</MaxHitPoints>
          <ImmunityGainSpeed>0.6</ImmunityGainSpeed>
          <PainShockThreshold>0.4</PainShockThreshold>
          <InjuryHealingFactor>0.35</InjuryHealingFactor>
            <ToxicResistance>0.1</ToxicResistance>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- ✅ PUISSANCE - PROGRESSION COMPLÈTE -->
  <HediffDef>
    <defName>Expedition33_PowerBonus</defName>
    <label>puissance dévastatrice</label>
    <description>Bonus permanent de puissance obtenu par la progression d'expédition.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.9, 0.1, 0.1)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>9.0</maxSeverity>
    <stages>
      <!-- Niveau Débutant -->
      <li>
        <minSeverity>0.1</minSeverity>
        <label>(débutant)</label>
        <statOffsets>
          <MeleeDamageFactor>0.06</MeleeDamageFactor>
          <ShootingAccuracyPawn>0.04</ShootingAccuracyPawn>
        </statOffsets>
      </li>
      <!-- Niveau Intermédiaire -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label>(intermédiaire)</label>
        <statOffsets>
          <MeleeDamageFactor>0.12</MeleeDamageFactor>
          <ShootingAccuracyPawn>0.08</ShootingAccuracyPawn>
        
        </statOffsets>
      </li>
      <!-- Niveau Avancé -->
      <li>
        <minSeverity>3.0</minSeverity>
        <label>(avancé)</label>
        <statOffsets>
          <MeleeDamageFactor>0.20</MeleeDamageFactor>
         <ShootingAccuracyPawn>0.12</ShootingAccuracyPawn>
    
          <CarryingCapacity>15</CarryingCapacity>
        </statOffsets>
      </li>
      <!-- Niveau Expert -->
      <li>
        <minSeverity>6.0</minSeverity>
        <label> (expert)</label>
        <statOffsets>
          <MeleeDamageFactor>0.30</MeleeDamageFactor>
          <ShootingAccuracyPawn>0.18</ShootingAccuracyPawn>
    
          <CarryingCapacity>25</CarryingCapacity>
        </statOffsets>
      </li>
      <!-- Niveau Maître -->
      <li>
        <minSeverity>8.5</minSeverity>
        <label> (maître)</label>
        <statOffsets>
          <MeleeDamageFactor>0.45</MeleeDamageFactor>
          <ShootingAccuracyPawn>0.25</ShootingAccuracyPawn>
      
          <CarryingCapacity>40</CarryingCapacity>
          <MeleeArmorPenetration>0.1</MeleeArmorPenetration>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- ✅ AGILITÉ - PROGRESSION COMPLÈTE -->
  <HediffDef>
    <defName>Expedition33_AgilityBonus</defName>
    <label>agilité extraordinaire</label>
    <description>Bonus permanent d'agilité obtenu par la progression d'expédition.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.1, 0.8, 0.1)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>9.0</maxSeverity>
    <stages>
      <!-- Niveau Débutant -->
      <li>
        <minSeverity>0.1</minSeverity>
        <label> (débutant)</label>
        <statOffsets>
          <MoveSpeed>0.08</MoveSpeed>
          <WorkSpeedGlobal>0.04</WorkSpeedGlobal>
        </statOffsets>
      </li>
      <!-- Niveau Intermédiaire -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label> (intermédiaire)</label>
        <statOffsets>
          <MoveSpeed>0.15</MoveSpeed>
          <WorkSpeedGlobal>0.08</WorkSpeedGlobal>
          <MeleeDodgeChance>3</MeleeDodgeChance>
        </statOffsets>
      </li>
      <!-- Niveau Avancé -->
      <li>
        <minSeverity>3.0</minSeverity>
        <label>(avancé)</label>
        <statOffsets>
          <MoveSpeed>0.25</MoveSpeed>
          <WorkSpeedGlobal>0.12</WorkSpeedGlobal>
          <MeleeDodgeChance>6</MeleeDodgeChance>
          <RestRateMultiplier>0.1</RestRateMultiplier>
        </statOffsets>
      </li>
      <!-- Niveau Expert -->
      <li>
        <minSeverity>6.0</minSeverity>
        <label> (expert)</label>
        <statOffsets>
          <MoveSpeed>0.35</MoveSpeed>
          <WorkSpeedGlobal>0.18</WorkSpeedGlobal>
          <MeleeDodgeChance>10</MeleeDodgeChance>
          <RestRateMultiplier>0.18</RestRateMultiplier>
        </statOffsets>
      </li>
      <!-- Niveau Maître -->
      <li>
        <minSeverity>8.5</minSeverity>
        <label> (maître)</label>
        <statOffsets>
          <MoveSpeed>0.5</MoveSpeed>
          <WorkSpeedGlobal>0.25</WorkSpeedGlobal>
          <MeleeDodgeChance>16</MeleeDodgeChance>
          <RestRateMultiplier>0.3</RestRateMultiplier>
          <FilthRate>-0.5</FilthRate>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- ✅ DÉFENSE - PROGRESSION COMPLÈTE -->
  <HediffDef>
    <defName>Expedition33_DefenseBonus</defName>
    <label>défense inébranlable</label>
    <description>Bonus permanent de défense obtenu par la progression d'expédition.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.1, 0.1, 0.8)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>9.0</maxSeverity>
    <stages>
      <!-- Niveau Débutant -->
      <li>
        <minSeverity>0.1</minSeverity>
        <label>(débutant)</label>
        <statOffsets>
          <IncomingDamageFactor>-0.04</IncomingDamageFactor>
          <PainShockThreshold>0.06</PainShockThreshold>
        </statOffsets>
      </li>
      <!-- Niveau Intermédiaire -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label>(intermédiaire)</label>
        <statOffsets>
          <IncomingDamageFactor>-0.08</IncomingDamageFactor>
          <PainShockThreshold>0.12</PainShockThreshold>
          <MeleeHitChance>0.05</MeleeHitChance>
        </statOffsets>
      </li>
      <!-- Niveau Avancé -->
      <li>
        <minSeverity>3.0</minSeverity>
        <label>(avancé)</label>
        <statOffsets>
          <IncomingDamageFactor>-0.12</IncomingDamageFactor>
          <PainShockThreshold>0.20</PainShockThreshold>
          <MeleeHitChance>0.10</MeleeHitChance>
          <StaggerDurationFactor>-0.15</StaggerDurationFactor>
        </statOffsets>
      </li>
      <!-- Niveau Expert -->
      <li>
        <minSeverity>6.0</minSeverity>
        <label>(expert)</label>
        <statOffsets>
          <IncomingDamageFactor>-0.18</IncomingDamageFactor>
          <PainShockThreshold>0.30</PainShockThreshold>
          <MeleeHitChance>0.15</MeleeHitChance>
          <StaggerDurationFactor>-0.25</StaggerDurationFactor>
        </statOffsets>
      </li>
      <!-- Niveau Maître -->
      <li>
        <minSeverity>8.5</minSeverity>
        <label>(maître)</label>
        <statOffsets>
          <IncomingDamageFactor>-0.25</IncomingDamageFactor>
          <PainShockThreshold>0.45</PainShockThreshold>
          <MeleeHitChance>0.22</MeleeHitChance>
          <StaggerDurationFactor>-0.4</StaggerDurationFactor>
          <MentalBreakThreshold>-0.08</MentalBreakThreshold>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- ✅ CHANCE - PROGRESSION AMÉLIORÉE -->
  <HediffDef>
    <defName>Expedition33_ChanceBonus</defName>
    <label>chance miraculeuse</label>
    <description>Bonus permanent de chance obtenu par la progression d'expédition.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.8, 0.8, 0.2)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>9.0</maxSeverity>
    <stages>
      <!-- Niveau Débutant -->
      <li>
        <minSeverity>0.1</minSeverity>
        <label>(débutant)</label>
        <statOffsets>
          <TradePriceImprovement>0.04</TradePriceImprovement>
          <ShootingAccuracyPawn>0.03</ShootingAccuracyPawn>
        </statOffsets>
      </li>
      <!-- Niveau Intermédiaire -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label>(intermédiaire)</label>
        <statOffsets>
          <TradePriceImprovement>0.10</TradePriceImprovement>
          <ShootingAccuracyPawn>0.06</ShootingAccuracyPawn>
          <PlantHarvestYield>0.08</PlantHarvestYield>
        </statOffsets>
      </li>
      <!-- Niveau Avancé -->
      <li>
        <minSeverity>3.0</minSeverity>
        <label>(avancé)</label>
        <statOffsets>
          <TradePriceImprovement>0.18</TradePriceImprovement>
          <ShootingAccuracyPawn>0.10</ShootingAccuracyPawn>
          <PlantHarvestYield>0.15</PlantHarvestYield>
          <MiningYield>0.12</MiningYield>
        </statOffsets>
      </li>
      <!-- Niveau Expert -->
      <li>
        <minSeverity>6.0</minSeverity>
        <label>(expert)</label>
        <statOffsets>
          <TradePriceImprovement>0.28</TradePriceImprovement>
          <ShootingAccuracyPawn>0.15</ShootingAccuracyPawn>
          <PlantHarvestYield>0.25</PlantHarvestYield>
          <MiningYield>0.20</MiningYield>
          <ResearchSpeed>0.12</ResearchSpeed>
        </statOffsets>
      </li>
      <!-- Niveau Maître -->
      <li>
        <minSeverity>8.5</minSeverity>
        <label>(maître)</label>
        <statOffsets>
          <TradePriceImprovement>0.40</TradePriceImprovement>
          <ShootingAccuracyPawn>0.22</ShootingAccuracyPawn>
          <PlantHarvestYield>0.35</PlantHarvestYield>
          <MiningYield>0.30</MiningYield>
          <ResearchSpeed>0.20</ResearchSpeed>
          <ConstructionSpeed>0.15</ConstructionSpeed>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- ✅ BONUS DE NIVEAU - PROGRESSION COHÉRENTE -->
  <HediffDef>
    <defName>Expedition33_LevelBonus</defName>
    <label>sagesse de l'expédition</label>
    <description>Sagesse et expérience acquises au cours de l'Expédition 33.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(1.0, 0.8, 0.2)</defaultLabelColor>
    <isBad>false</isBad>
    <maxSeverity>5.0</maxSeverity>
    <stages>
      <!-- Niveau Apprenti (5-10) -->
      <li>
        <minSeverity>0.25</minSeverity>
        <label>(apprenti)</label>
        <statOffsets>
          <GlobalLearningFactor>0.06</GlobalLearningFactor>
        </statOffsets>
      </li>
      <!-- Niveau Confirmé (15-25) -->
      <li>
        <minSeverity>1.0</minSeverity>
        <label>(confirmé)</label>
        <statOffsets>
          <GlobalLearningFactor>0.12</GlobalLearningFactor>
          <WorkSpeedGlobal>0.06</WorkSpeedGlobal>
        </statOffsets>
      </li>
      <!-- Niveau Expérimenté (35-50) -->
      <li>
        <minSeverity>2.5</minSeverity>
        <label>(expérimenté)</label>
        <statOffsets>
          <GlobalLearningFactor>0.20</GlobalLearningFactor>
          <WorkSpeedGlobal>0.12</WorkSpeedGlobal>
          <PsychicSensitivity>-0.08</PsychicSensitivity>
        </statOffsets>
      </li>
      <!-- Niveau Vétéran (75-99) -->
      <li>
        <minSeverity>4.5</minSeverity>
        <label>(vétéran)</label>
        <statOffsets>
          <GlobalLearningFactor>0.30</GlobalLearningFactor>
          <WorkSpeedGlobal>0.20</WorkSpeedGlobal>
          <PsychicSensitivity>-0.15</PsychicSensitivity>
          <MentalBreakThreshold>-0.06</MentalBreakThreshold>
          <SocialImpact>0.1</SocialImpact>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>
</Defs>
